# 들어가며

### - 커널이란?

### - 운영체제의 서비스 종류?

### - 시스템 콜(호출)과 이중 모드란?

</br></br></br></br>



# 커널이란?

### 운영체제의 핵심 서비스를 담당하는 부분!

그래서 **운영체제 내용의 대부분**은 **커널** 내용임

</br></br>

## 그럼 운영체제에는 속하지만 커널이 아닌 부분은 어디?

⇒ **유저 인터페이스** (UI :User Interface)

- 그래픽으로 접근할 수 있는 `그래픽 유저 인터페이스`
- 명령어로 접근할 수 있는 `커맨드 라인 인터페이스`

이것들은 사용자와 컴퓨터 간의 통로일 뿐 운영체제의 <u>핵심 기능이 아니라서 커널에 없음</u>

</br></br></br></br>



# 커널의 기능?

> 응용 프로그램은 자원(메모리, CPU, 하드디스크 등)에 직접 접근할 수 있을까?</br>
>
> ### NO!</br>
>
> 자원에 직접 접근하는 것은 위험하다. 만약 CPU나 SSD에 동시에 접근하려는 프로그램들이 있으면 충돌이 발생하거나 데이터가 덮일 수 있음

### 운영체제는 응용프로그램들이 자원에 접근하려 할 때 </br>

### 오직 자신을 통해서만 접근하도록 해서 자원을 보호함.</br>

-> 응용체제는 자원 접근을 대신 해주는 **문지기**

</br>

- 응용 프로그램이 자원에 접근하려면 운영체제에 도움을 요청***(=운영체제의 코드를 실행)***해야 함

​	- 응용프로그램이 하드디스크에 접근하려면, </br> 하드디스크 -> 운영체제에 하드디스크 저장해달라고 코드를 보냄 -> 운영체제가 하드웨어에 접근해서 저장

</br></br>

이런 문지기 역할은 ***이중 모드***로 구현</br>

</br>

# 이중 모드

: CPU가 명령어를 실행하는 모드를 크게 `사용자 모드`와 `커널 모드`로 구분하는 방식

</br></br>

## 사용자 모드

- 운영체제 서비스를 제공받을 수 없는 실행 모드
- 커널 영역의 코드를 실행할 수 없는 실행 모드
- 자원 접근 불가

</br>

## 커널 모드

- 운영체제의 서비스를 제공받을 수 있는 실행 모드
- 자원 접근을 비롯한 모든 명령어 실행 가능

> cf) `사용자모드`와 `커널 모드`는 CPU의 플래그레지스터 중 슈퍼바이저 플래그에 의해 나타남.</br>
>
> ​	-> 커널 모드로 실행 중이면 1, 사용자 모드면 0

</br></br>

만약 입출력 명령어를 CPU가 받는다면 필연적으로 자원에 접근해야 하기 때문에,</br>

커널 모드여야 함. (사용자 모드는 자원 접근 X) </br></br>



## 어떻게 모드가 전환?

### => <u>시스템 호출</u>을 통해서!

- 일종의 소프트웨어 인터럽트임 (특정 명령어 실행으로 인터럽트를 걸었음)

- ***시스템 호출***을 하면 운영체제 서비스를 제공받을 수 있는 `커널 모드`로 전환됨.

</br></br></br></br>



# 운영체제의 핵심 서비스

- 프로세스 관리
- 자원 접근 및 할당
- 파일 시스템 관리

</br></br></br>



> cf) 실행 중인 프로그램 == `프로세스`

## 프로세스 관리

수많은 프로그램들이 동시에 실행되고 있음. 이렇게 동시다발적으로 생성/실행/삭제되는 다양한 프로세스들을 일목요연하게 관리해야 함.</br>

> - 프로세스와 스레드
> - 프로세스 동기화
> - 교착상태 해결

</br></br>

## 자원 접근 및 할당

- **CPU**
  - CPU 스케줄링 : 어떤 프로세스를 먼저 실행? 얼마나 오래 실행?

- **메모리**
  - 페이징, 스와핑, …

- **입출력장치**
  - 인터럽트 서비스 루틴도 운영체제의 서비스

</br></br>

## 파일 시스템 관리

- 관련된 정보를 파일이라는 단위로 저장 장치에 보관
- 파일들을 묶어 폴더(디렉터리) 단위로 저장 장치에 보관
