### **깊은 복사를 써야 하는 경우**

깊은 복사는 **원본 객체와 독립적인 복사본이 필요할 때** 사용됩니다. 특히, **리스트 안에 리스트(중첩 리스트)나 딕셔너리처럼 가변 객체가 포함된 경우** 얕은 복사로는 모든 요소가 독립적으로 복사되지 않기 때문에, 깊은 복사가 필요합니다.

------

### **1. 중첩된 리스트(2D 리스트)에서 독립적인 복사본이 필요할 때**

```
python복사편집import copy

a = [[1, 2, 3], [4, 5, 6]]
b = copy.deepcopy(a)  # 깊은 복사

b[0][0] = 100  # b의 첫 번째 리스트 값을 변경
print(a)  # 원본 리스트는 변경되지 않음
print(b)  # 변경된 리스트 출력
```

#### **📌 얕은 복사(`b = a[:]`)를 사용했다면?**

```
python복사편집b = a[:]  # 얕은 복사
b[0][0] = 100

print(a)  # 원본도 변경됨
print(b)  # 둘 다 같은 값이 됨
```

**이유:** 얕은 복사는 리스트의 첫 번째 수준의 요소만 새롭게 복사하고, 그 안의 **내부 리스트는 여전히 원본과 같은 참조를 가짐**.

------

### **2. 원본 데이터를 보존해야 할 때**

- 데이터를 비교하거나, 원본을 유지하면서 실험해야 할 때
- 원본 데이터를 보호하기 위해 변경된 데이터를 새로운 객체로 유지하고 싶을 때

예를 들어, 데이터를 변형하는 알고리즘을 실행할 때, 원본 데이터를 유지하면서 수정된 버전을 만들어야 하는 경우:

```
python복사편집import copy

original_data = {'user': 'Alice', 'scores': [85, 90, 78]}
copied_data = copy.deepcopy(original_data)

copied_data['scores'][0] = 100  # 복사본에서 점수 변경

print(original_data)  # 원본 데이터는 변하지 않음
print(copied_data)  # 복사본만 변경됨
```

**얕은 복사를 사용했다면, `original_data['scores']`도 함께 변경됨**.

------

### **3. 다중 스레딩이나 병렬 프로그래밍에서 데이터 충돌 방지**

멀티스레딩 환경에서 데이터가 공유될 경우, 한 스레드가 데이터를 변경하면 다른 스레드에도 영향을 줄 수 있습니다. 깊은 복사를 사용하면 **각 스레드가 독립적인 데이터를 가질 수 있어 충돌을 방지할 수 있습니다**.

------

### **언제 얕은 복사(Shallow Copy)를 써도 괜찮을까?**

- 리스트가 **단순한 1차원 리스트**일 때 (`[1, 2, 3, 4]`)
- 데이터 변경이 필요 없고, **단순히 참조만 필요할 때**
- **불변 객체(immutable object)**(ex: `tuple`, `int`, `str`)를 포함하는 경우 (깊은 복사든 얕은 복사든 큰 차이가 없음)

------

### **정리**

| 복사 방식 | 내부 객체까지 복사?  | 원본 영향 여부                    | 사용 예제                            |
| --------- | -------------------- | --------------------------------- | ------------------------------------ |
| 얕은 복사 | ❌ (참조만 복사)      | ✅ (내부 객체 변경 시 원본도 영향) | 단순 리스트, 가변 객체가 없을 때     |
| 깊은 복사 | ✅ (새로운 객체 생성) | ❌ (완전히 독립적)                 | 중첩 리스트, 데이터 보호, 멀티스레딩 |

👉 **중첩 리스트, 딕셔너리 등 변경될 가능성이 있는 가변 객체를 복사할 때는 `copy.deepcopy()`를 사용하세요!** 🚀
------
------
리스트, 딕셔너리, 세트는 메모리 새로 할당안해도 데이터 수정할 수 있는데</br>
튜플은 int, float, str처럼 값을 못바꾸고 수정하려면 새로운 메모리에다 할당해야 함

